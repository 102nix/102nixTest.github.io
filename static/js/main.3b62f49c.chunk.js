(this["webpackJsonpmodal-photos-api-bootastrap"]=this["webpackJsonpmodal-photos-api-bootastrap"]||[]).push([[0],{39:function(e,t,n){e.exports=n(74)},44:function(e,t,n){},45:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),c=n.n(o),l=(n(44),n(45),n(12)),u=n.n(l),s=n(19),m=n(16),i=n(20),d=n.n(i),p="https://boiling-refuge-66454.herokuapp.com/images/",h=function(){return d.a.get(p)},f=function(e){return d.a.get(p+e)},v={photos:null,comments:[],urlModal:null},E=function(e){return{type:"SET_MODAL",val:e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PHOTOS":return Object(m.a)({},e,{photos:t.val});case"SET_MODAL":return Object(m.a)({},e,{comments:t.val.comments,urlModal:t.val.url});case"ADD_COMMENT":return Object(m.a)({},e,{comments:t.text});default:return e}},M=n(8),O=(n(68),function(e){return r.a.createElement("img",{src:e.url,onClick:function(){return e.showModal(e.id)},alt:e.id})}),g=n(38),w=n(37),N=(n(69),n(15)),j=Object(M.b)((function(e){return{urlModal:e.photoReducer.urlModal}}),{setModal:E})((function(e){var t=Object(a.useState)(""),n=Object(w.a)(t,2),o=n[0],c=n[1];return r.a.createElement(N.a,{show:e.urlModal,onHide:function(){e.setModal({comments:[],url:null})}},r.a.createElement(N.a.Header,{closeButton:!0}),r.a.createElement(N.a.Body,null,r.a.createElement("img",{src:e.urlModal,alt:"",className:"img-fluid"}),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438:"),r.a.createElement("div",{className:"card-body"},e.comments.map((function(e){return r.a.createElement("div",{className:"comment"},e)}))),r.a.createElement("textarea",{className:"card-footer",onChange:function(e){return c(e.target.value)},value:o,placeholder:"\u0422\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f..."}),r.a.createElement("button",{className:"btn btn-success",onClick:function(){var t=[].concat(Object(g.a)(e.comments),[o]);e.addComment(t),c("")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))))})),y=(n(71),function(e){return r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),k=Object(M.b)((function(e){return{photos:e.photoReducer.photos,comments:e.photoReducer.comments}}),{onAPIPhotos:function(){return function(){var e=Object(s.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:n=e.sent,t({type:"SET_PHOTOS",val:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},onModalPhoto:function(e){return function(){var t=Object(s.a)(u.a.mark((function t(n){var a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e);case 2:a=t.sent,r=[],a.data.comments.length>0&&(r=[a.data.comments[0].text]),n(E({comments:r,url:a.data.url}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addComment:function(e){return{type:"ADD_COMMENT",text:e}}})((function(e){null===e.photos&&e.onAPIPhotos();var t=function(t){e.onModalPhoto(t)};return r.a.createElement("div",{className:"container"},null===e.photos&&r.a.createElement(y,null),r.a.createElement("div",{className:"photos__row"},null!=e.photos&&e.photos.map((function(e){return r.a.createElement(O,{key:e.id,url:e.url,id:e.id,showModal:t})})),r.a.createElement(j,{urlModal:e.urlModal,comments:e.comments,addComment:e.addComment})))})),x=n(2);var C=function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement(x.a,{exact:!0,path:"/",render:function(){return r.a.createElement(k,null)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(73);var P=n(9),S=n(36),T=Object(P.c)({photoReducer:b}),_=Object(P.d)(T,Object(P.a)(S.a)),A=n(18);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M.a,{store:_},r.a.createElement(A.a,null,r.a.createElement(C,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.3b62f49c.chunk.js.map